{% extends 'base/base.html' %}
{% load static %}
{% block page_content %}
    <h1>Profile Details</h1>

    <div>
        {% if user.is_authenticated and user.pk == profile.pk or user.is_staff %}
            <ul class="special-btn">
                <li>
                    <a href="{% url 'add user photo' pk=object.pk %}">Add Photo</a>
                </li>
                <li>
                    <a href="{% url 'edit user' pk=object.pk %}">Edit Profile</a>
                </li>
                <li>
                    <a href="{% url 'delete user' pk=object.pk %}">Delete Profile</a>
                </li>
            </ul>
        {% endif %}

        <h2>{{ profile.username }}</h2>

        {% if profile.full_name %}
            <p>{{ profile.full_name }}</p>
        {% endif %}

        {% if not profile.userphoto_set.all %}
            No Photos
        {% else %}
            <h2>Recent Photos</h2>
            <ul class="user-photos">
            {% for photo in profile.userphoto_set.all %}
                <li class="user-photo">
                    <a href="{% url 'details user photo' pk=photo.pk %}">
                        <img src="{{ photo.photo.url }}" alt="{{ photo.description }}">
                    </a>
                    <p>
                        {{ photo.date_of_publication }}
                    </p>
                    <p>
                        {{ photo.description }}
                    </p>
                </li>
            {% endfor %}
        {% endif %}
        </ul>
    </div>
{% endblock %}